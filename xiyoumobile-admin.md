#### 这个项目呢是由我们实验室内部的各小组成员一起合作完成的，我们实验室包括有Android、iOS、Web、Java后台、产品这些小组，每年都会进行纳新，随着实验室的规模壮大，我们很需要一个系统方便我们对成员的管理，这块的技术选型和项目架构我虽然没有负责，但是后来也有和学长学姐他们讨论过这些问题，首先，我们确定了这个管理端是要做成单页应用，接下来就是技术选型了，之所以在2016年底选择Vue+vue-router+Webpack实现管理端的单页应用是因为(接下来的分析对比都以Vue 1.0为准)：

---
##### 1. 它的学习成本低，其API的设计比Angular的简单许多，也不需要像React一样得再去学习JSX语法，而且Vue是尤大大写的，有最全备的中文文档，对于我们当时的时间需求来说Vue无疑是最好的选择。

##### 2.上面也说到React的JSX语法了，在React中，更倾向于函数式编程，一切都是JS，像HTML也是用JSX来渲染的；而Vue是使用模板来渲染，像对于我们习惯了HTML模式的开发者来说，真实的DOM模板可以更直观地思考设计CSS。

从当时来看的话，Vue在1.0的时候并没有发挥到它目前虚拟DOM的作用，因为它是利用实际的DOM模板保持对数据绑定的实际节点的引用，所以我们这个项目更侧重的点是利用它提供的模板，分离了Model层和View层以及样式层，做到了将结构、样式和行为真正分离的效果。采用了Gulp自动化构建工具对JS和CSS做简单压缩和合并。使用Common.js和Less分别对JS和CSS进行处理，最终利用Webpack对其打包输出。

---

说到webpack的话，就说一下它的模块化原理——
> 首先的话我们需要在webpack.config.js中去指定入口文件，完了webpack会自己分析入口文件，从入口到入口所需的模块，再到入口所需模块的模块·····分析webpack编译后的文件可以看到，整个文件由一个自执行函数包裹，入参是一个数组，这个数组里面就包含了所有的模块，自执行性函数的函数体的逻辑就是webpack的模块化的逻辑。里面有一个函数叫__webpack_require__，参数为moduleId，然后在这个函数体的末尾调用了他传入参数为0并返回，这个0指代的模块就是我们的入口模块。也就是说，从入参的modules数组中取第一个函数进行调用，并传入了module，module.exports以及__webpack_require__这三个参数，然后你可以在入口函数的函数体内看到又调用了__webpack_require__(1)···等等来调用入口文件中所有后续需要的模块，这样就会引入后续的第二个第三个····函数，从第二个函数开始的入参exports，都是这个模块的module.exports通过对象的引用传参，这个模块中需要的其他模块也都是通过__webpack_require__来引的，最终会将module.exports return出来。

webpack和gulp的区别的话，我是这么理解的：
> gulp是个自动化构建的工具，gulp所做的工作就是对指定文件的代码进行压缩合并或者资源打包，所以我一般会在自己的个人项目规模不是很大的时候使用gulp来构建，完了在页面中引用就行了，这样子的目的就是单纯的减小文件体积；

而webpack我觉得就拿我们这个SPA项目来看的话：

> 1. 我们需要配置一个entry指明执行入口，找到每个文件所依赖的文件，递归下去，在解析文件递归的过程中根据文件类型和loader配置找出合适的loader用来对文件进行转换，并将最后递归得到的结果根据entry配置生成代码块chunk，然后输出chunk到文件系统
> 2. 我们引用了比较多的第三方库，那如果将这些类库在页面中分别引用，请求页面的时候，可能浏览器要发起多次请求，但是可能每一次的请求都是一小段的js代码或者很小的图片，本身可能才几k左右，下载可能只要1秒，但是http请求发送之前我们得先建立tcp连接，tcp的三握四挥消耗的时间比下载资源本身还要长，所以如果我们把这些文件都打包成一个文件，那么只进行一次tcp握手和挥手的过程，但是相应的结果是下载了多个资源，他们共享同一个http请求，让页面加载更快，用户体验更佳，这部分就是可以减少页面请求时间
> 3. 而且针对于第三方库，像Vue或者React这种体系库会包含有像其对应的状态管理库和路由管理库，这个时候webpack就可以让我们抽出这些基础库到一个单独的文件而不是和其他文件放在一起打包为一个文件，这样做的好处就是即便我们不去升级他们的版本就永远不会被刷新，但是如果我们把他们这些基础库和业务代码打包在一个文件里每次改动业务代码都会导致文件hash值变化紧接着导致浏览器缓存失效，那浏览器就会重复下载这些包含基础库的代码，所以这部分的话我们就可以利用webpack做代码分割的优化

当然webpack也不止这些功能，他也有诸多插件，比如热加载呀，自动刷新呀都是很方便的。

还有的话就是搭配vue-router 0.7实现了单页面路由的跳转，

但是实际上，从2.0开始Vue又开始向React靠拢，除了API和生命钩子的一些变动，可以看到还有组件模板以.vue为后缀，其中囊括了你这个组件的template，style和script，而且2.0之后Vue的虚拟DOM才算是发挥了作用，